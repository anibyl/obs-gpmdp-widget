<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">

<head>
	<title>Player</title>
	<meta http-equiv="refresh" content="1">
</head>

<body>
<div id="frame">
	<div id="firstLine"><span id="title"></span></div>
	<div id="secondLine"><span id="artist"></span> â€” <span id="album"></span></div>
</div>
</body>

<style type="text/css">
	body {
		/*background: gray;*/
		font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
		font-size: 100%;
		/*-webkit-text-stroke: 1px black;*/
		text-shadow:
				-1px -1px 0 #000,
				1px -1px 0 #000,
				-1px 1px 0 #000,
				1px 1px 0 #000;
	}

	#firstLine {
		color: white;
		font-weight: 800;
	}

	#secondLine {
		color: #CCC;
		font-weight: 600;
	}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
	$(document).ready(function () {
		var frame = document.getElementById("frame");
		var titleSpan = document.getElementById("title");
		var artistSpan = document.getElementById("artist");
		var albumSpan = document.getElementById("album");

		try {
			$.getJSON('playback.json', function (data) {
				if (data.playing) {
					var song = data.song;
					var songTitle = song.title;
					var songArtist = song.artist;
					var songAlbum = song.album;

					frame.style.visibility = "visible";

					titleSpan.innerHTML = songTitle;
					artistSpan.innerHTML = songArtist;
					albumSpan.innerHTML = songAlbum;
				} else {
					frame.style.visibility = "hidden";
				}
			});
		} catch (e) {
			frame.style.visibility = "hidden";
		}
	});
</script>
</html>
